<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSI3540 - Lab 3</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>

  <body class="min-h-screen bg-neutral-100 text-neutral-900">
    <main class="min-h-screen flex items-center justify-center p-6">
      <div class="w-full max-w-xl text-center">
        <h1 class="text-2xl font-bold">CSI3540 - Lab 3</h1>

        <p class="mt-1 text-sm text-neutral-600">
          All hosted code for this lab. Click the blue link to open the HTML
          page, and use <br />
          “Show CSS” to view the stylesheet files.
        </p>

        <!-- Buttons -->
        <div class="mt-4 flex flex-wrap items-center justify-center gap-2">
          <!-- GitHub button -->
          <a
            href="https://github.com/ABUO023/Lab3-CSI-3540/tree/main/Book"
            target="_blank"
            rel="noreferrer"
            class="inline-flex items-center gap-2 rounded-lg border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 shadow-sm hover:bg-neutral-50"
          >
            <!-- GitHub icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="h-4 w-4"
            >
              <path
                fill-rule="evenodd"
                d="M12 2C6.477 2 2 6.477 2 12c0 4.419 2.865 8.167 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.866-.013-1.7-2.782.604-3.369-1.34-3.369-1.34-.455-1.157-1.11-1.466-1.11-1.466-.908-.621.069-.609.069-.609 1.004.071 1.532 1.031 1.532 1.031.892 1.529 2.341 1.087 2.91.832.091-.647.35-1.087.636-1.337-2.22-.253-4.555-1.11-4.555-4.943 0-1.092.39-1.987 1.029-2.686-.103-.253-.446-1.272.098-2.65 0 0 .84-.269 2.75 1.026A9.563 9.563 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.295 2.748-1.026 2.748-1.026.546 1.378.202 2.397.1 2.65.64.699 1.028 1.594 1.028 2.686 0 3.842-2.338 4.687-4.566 4.935.36.31.68.923.68 1.86 0 1.343-.012 2.425-.012 2.755 0 .268.18.58.688.481A10.019 10.019 0 0022 12c0-5.523-4.477-10-10-10z"
                clip-rule="evenodd"
              />
            </svg>

            View on GitHub
          </a>

          <!-- Report button -->
          <a
            href="/assets/Part1-CSS.pdf"
            target="_blank"
            rel="noreferrer"
            class="inline-flex items-center gap-2 rounded-lg border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 shadow-sm hover:bg-neutral-50"
          >
            <!-- Document icon -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="h-4 w-4"
            >
              <path
                d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.414a2 2 0 0 0-.586-1.414l-4.414-4.414A2 2 0 0 0 15.586 2H6zm9 1.5V8a1 1 0 0 0 1 1h4.5"
              />
              <path
                d="M8 12.5a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 8 12.5zm0 3a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 8 15.5zm0 3a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 8 18.5z"
              />
            </svg>

            View Report
          </a>
        </div>

        <div class="mt-5">
          <input
            id="search"
            type="text"
            placeholder="Search (ex: 3.1, 3.2...)"
            class="w-full rounded border border-neutral-300 px-3 py-2 text-sm outline-none focus:border-neutral-500"
          />
        </div>

        <div class="mt-4 rounded border border-neutral-300 bg-white p-4 text-left">
          <p class="font-semibold">Pages</p>

          <ul id="list" class="mt-3 space-y-2 text-sm">
            <li class="text-neutral-500">Loading...</li>
          </ul>

          <p id="status" class="mt-4 text-xs text-neutral-500"></p>
        </div>
      </div>
    </main>

    <script>
      const SITE_MAP = {
        pages: [
          {
            title: "Exercise 3.1",
            href: "./Book/3.1/index.html",
            css: ["./Book/3.1/main.css"],
          },
          {
            title: "Exercise 3.2",
            href: "./Book/3.2/index.xhtml",
            css: [
              "./Book/3.2/styles/print.css",
              "./Book/3.2/styles/style1.css",
              "./Book/3.2/styles/style2.css",
            ],
          },
          {
            title: "Exercise 3.3",
            href: "./Book/3.3/index.html",
            css: [],
          },
          {
            title: "Exercise 3.20",
            href: "./Book/3.20/index.html",
            css: ["./Book/3.20/styles.css"],
          },
        ],
      };

      const list = document.getElementById("list");
      const status = document.getElementById("status");
      const search = document.getElementById("search");

      let pages = SITE_MAP.pages || [];

      function render() {
        const q = search.value.trim().toLowerCase();

        const filtered = pages.filter((p) => {
          const hay = `${p.title} ${p.href}`.toLowerCase();
          return hay.includes(q);
        });

        list.innerHTML = "";

        if (filtered.length === 0) {
          list.innerHTML = `<li class="text-neutral-500">No results.</li>`;
          status.textContent = "0 pages shown";
          return;
        }

        for (const p of filtered) {
          const cssArr = p.css || [];

          const cssList = cssArr
            .map(
              (c) => `
                <li class="ml-4 list-disc">
                  <a href="${c}" class="text-blue-700 underline hover:text-blue-900">${c}</a>
                </li>
              `
            )
            .join("");

          const li = document.createElement("li");

          li.innerHTML = `
            <div class="rounded border border-neutral-200 bg-neutral-50 p-3">
              <a href="${p.href}" class="text-blue-700 underline hover:text-blue-900 font-semibold">
                ${p.title}
              </a>
              <div class="text-xs text-neutral-500 mt-1">${p.href}</div>

              ${
                cssArr.length === 0
                  ? ""
                  : `
                    <details class="mt-2">
                      <summary class="cursor-pointer text-sm text-neutral-700">
                        Show CSS (${cssArr.length})
                      </summary>
                      <ul class="mt-2 text-sm">${cssList}</ul>
                    </details>
                  `
              }
            </div>
          `;

          list.appendChild(li);
        }

        status.textContent = `${filtered.length} page(s) shown`;
      }

      search.addEventListener("input", render);
      render();
    </script>
  </body>
</html>
